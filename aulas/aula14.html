<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 14 - Requisi√ß√µes Ass√≠ncronas (AJAX) | Desenvolvimento Web - UNINOVE</title>
    <link rel="stylesheet" href="css/slides.css">
</head>
<body>
    <div class="presentation">

        <!-- SLIDE 1: Capa -->
        <div class="slide slide-cover active">
            <h1>Desenvolvimento Web</h1>
            <h2>Aula 14 ‚Äî Requisi√ß√µes HTTP Ass√≠ncronas</h2>
            <p>AJAX, Fetch API e JSON com ASP.NET Core MVC</p>
            <p style="margin-top: 30px; font-size: 0.9em; color: rgba(255,255,255,0.5);">2026.1 ‚Äî 120 minutos</p>
        </div>

        <!-- SLIDE 2: Recapitula√ß√£o -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Recapitula√ß√£o ‚Äî Aula 13</h2></div>
            <div class="slide-body">
                <div class="recap-container">
                    <h3>O que vimos na aula passada</h3>
                    <ul class="recap-items">
                        <li class="recap-item"><strong>HTTP Stateless:</strong> O servidor n√£o lembra de requisi√ß√µes anteriores</li>
                        <li class="recap-item"><strong>Cookies:</strong> Dados armazenados no navegador ‚Äî identificam o usu√°rio</li>
                        <li class="recap-item"><strong>Sess√µes:</strong> Dados armazenados no servidor ‚Äî mais seguros</li>
                        <li class="recap-item"><strong>Carrinho de compras:</strong> Exemplo pr√°tico com sess√£o + JSON</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 3: Mini Quiz (in√≠cio ‚Äî refor√ßo) -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Mini Quiz ‚Äî Revis√£o</h2></div>
            <div class="slide-body" style="justify-content: center;">
                <div class="quiz-container" data-answer="d">
                    <h3>Vamos relembrar!</h3>
                    <p class="quiz-question">Qual m√©todo √© usado para <strong>limpar toda a sess√£o</strong> do usu√°rio no ASP.NET Core?</p>
                    <ul class="quiz-options">
                        <li><button class="quiz-option" data-option="a">a) Session.Remove()</button></li>
                        <li><button class="quiz-option" data-option="b">b) Session.Destroy()</button></li>
                        <li><button class="quiz-option" data-option="c">c) Session.Reset()</button></li>
                        <li><button class="quiz-option" data-option="d">d) Session.Clear()</button></li>
                    </ul>
                    <div class="quiz-feedback">A resposta correta √© <strong>(d)</strong>. <span class="inline-code">HttpContext.Session.Clear()</span> remove todos os dados da sess√£o do usu√°rio.</div>
                </div>
            </div>
        </div>

        <!-- SLIDE 4: Agenda -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Agenda</h2></div>
            <div class="slide-body">
                <ul class="agenda-list">
                    <li>Requisi√ß√µes S√≠ncronas vs. Ass√≠ncronas</li>
                    <li>O que √© AJAX?</li>
                    <li>Formato JSON</li>
                    <li>Fetch API ‚Äî GET e POST</li>
                    <li>Retornando JSON do Controller</li>
                    <li>Caso de Uso Real: Google Search</li>
                    <li>Exerc√≠cio Guiado: Busca Din√¢mica</li>
                </ul>
            </div>
        </div>

        <!-- SLIDE 5: S√≠ncrono vs Ass√≠ncrono -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>S√≠ncrono vs. Ass√≠ncrono</h2></div>
            <div class="slide-body">
                <div class="concept-cards two-cols" style="margin-top: 10px;">
                    <div class="concept-card" style="border-left: 4px solid #e74c3c;">
                        <h4>S√≠ncrono (tradicional)</h4>
                        <p>O navegador envia a requisi√ß√£o e <strong>recarrega toda a p√°gina</strong>. O usu√°rio fica esperando.</p>
                        <p style="font-size: 0.8em; margin-top: 5px;">Clicou ‚Üí Tela branca ‚Üí P√°gina nova</p>
                    </div>
                    <div class="concept-card" style="border-left: 4px solid #2ecc71;">
                        <h4>Ass√≠ncrono (AJAX)</h4>
                        <p>O JavaScript envia a requisi√ß√£o <strong>em segundo plano</strong>. Apenas a parte necess√°ria √© atualizada.</p>
                        <p style="font-size: 0.8em; margin-top: 5px;">Digitou ‚Üí Resultados aparecem</p>
                    </div>
                </div>
                <div class="analogy-box" style="margin-top: 15px;">
                    <span class="analogy-icon">üì±</span>
                    <div class="analogy-text">
                        <h4>Exemplos do dia a dia</h4>
                        <p>Autocompletar do Google, feed infinito do Instagram, curtir no Facebook, chat do WhatsApp Web ‚Äî todos usam requisi√ß√µes ass√≠ncronas!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 6: JSON -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Formato JSON</h2></div>
            <div class="slide-body">
                <p><strong>JSON</strong> (JavaScript Object Notation) √© o formato padr√£o para troca de dados na web moderna.</p>
                <pre>
{
    <span class="js-string">"id"</span>: <span class="number">1</span>,
    <span class="js-string">"nome"</span>: <span class="js-string">"Maria Silva"</span>,
    <span class="js-string">"email"</span>: <span class="js-string">"maria@email.com"</span>,
    <span class="js-string">"idade"</span>: <span class="number">20</span>,
    <span class="js-string">"ativo"</span>: <span class="keyword">true</span>,
    <span class="js-string">"cursos"</span>: [<span class="js-string">"ADS"</span>, <span class="js-string">"Web"</span>],
    <span class="js-string">"endereco"</span>: {
        <span class="js-string">"cidade"</span>: <span class="js-string">"S√£o Paulo"</span>,
        <span class="js-string">"estado"</span>: <span class="js-string">"SP"</span>
    }
}</pre>
                <div class="box-info" style="margin-top: 10px;">
                    <p>JSON √© leve, leg√≠vel e suportado por todas as linguagens. √â o "idioma universal" da web.</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 7: Fetch GET -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Fetch API ‚Äî Requisi√ß√£o GET</h2></div>
            <div class="slide-body">
                <pre>
<span class="comment">// Requisi√ß√£o GET com Fetch API</span>
<span class="js-func">fetch</span>(<span class="js-string">"/Produto/ListarJson"</span>)
    .<span class="js-func">then</span>(<span class="js-var">response</span> => <span class="js-var">response</span>.<span class="js-func">json</span>())
    .<span class="js-func">then</span>(<span class="js-var">data</span> => {
        <span class="js-var">console</span>.<span class="js-func">log</span>(<span class="js-var">data</span>);
        <span class="comment">// Atualizar a p√°gina com os dados</span>
        <span class="js-keyword">let</span> <span class="js-var">lista</span> = <span class="js-var">document</span>.<span class="js-func">getElementById</span>(<span class="js-string">"listaProdutos"</span>);
        <span class="js-var">data</span>.<span class="js-func">forEach</span>(<span class="js-var">produto</span> => {
            <span class="js-var">lista</span>.<span class="js-var">innerHTML</span> += 
                <span class="js-string">`&lt;li&gt;${produto.nome} - R$ ${produto.preco}&lt;/li&gt;`</span>;
        });
    })
    .<span class="js-func">catch</span>(<span class="js-var">error</span> => <span class="js-var">console</span>.<span class="js-func">error</span>(<span class="js-string">"Erro:"</span>, <span class="js-var">error</span>));</pre>
                <div class="diagram-flow" style="margin-top: 10px; justify-content: center;">
                    <div class="diagram-box" style="min-width: 120px;">
                        <span class="box-label">fetch()</span>
                        <span class="box-desc">Envia GET</span>
                    </div>
                    <span class="diagram-arrow">‚Üí</span>
                    <div class="diagram-box highlight" style="min-width: 120px;">
                        <span class="box-label">Controller</span>
                        <span class="box-desc">Retorna JSON</span>
                    </div>
                    <span class="diagram-arrow">‚Üí</span>
                    <div class="diagram-box highlight-coral" style="min-width: 120px;">
                        <span class="box-label">.then()</span>
                        <span class="box-desc">Atualiza DOM</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 8: Fetch POST -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Fetch API ‚Äî Requisi√ß√£o POST</h2></div>
            <div class="slide-body">
                <pre>
<span class="comment">// Requisi√ß√£o POST com Fetch API</span>
<span class="js-keyword">const</span> <span class="js-var">produto</span> = {
    nome: <span class="js-string">"Notebook"</span>,
    preco: <span class="number">3500.00</span>,
    estoque: <span class="number">10</span>
};

<span class="js-func">fetch</span>(<span class="js-string">"/Produto/CriarJson"</span>, {
    method: <span class="js-string">"POST"</span>,
    headers: {
        <span class="js-string">"Content-Type"</span>: <span class="js-string">"application/json"</span>
    },
    body: JSON.<span class="js-func">stringify</span>(<span class="js-var">produto</span>)
})
.<span class="js-func">then</span>(<span class="js-var">response</span> => <span class="js-var">response</span>.<span class="js-func">json</span>())
.<span class="js-func">then</span>(<span class="js-var">data</span> => {
    <span class="js-func">alert</span>(<span class="js-string">"Produto cadastrado com sucesso!"</span>);
});</pre>
            </div>
        </div>

        <!-- SLIDE 9: Controller retornando JSON -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Retornando JSON do Controller</h2></div>
            <div class="slide-body">
                <pre>
<span class="keyword">public class</span> <span class="type">ProdutoController</span> : <span class="type">Controller</span>
{
    <span class="comment">// Retornar lista em JSON</span>
    <span class="keyword">public</span> <span class="type">IActionResult</span> <span class="js-func">ListarJson</span>()
    {
        <span class="keyword">var</span> <span class="js-var">produtos</span> = _context.Produtos.<span class="js-func">ToList</span>();
        <span class="keyword">return</span> <span class="js-func">Json</span>(<span class="js-var">produtos</span>);
    }

    <span class="comment">// Buscar com filtro</span>
    <span class="keyword">public</span> <span class="type">IActionResult</span> <span class="js-func">Buscar</span>(<span class="keyword">string</span> <span class="js-var">termo</span>)
    {
        <span class="keyword">var</span> <span class="js-var">resultados</span> = _context.Produtos
            .<span class="js-func">Where</span>(p => p.Nome.<span class="js-func">Contains</span>(<span class="js-var">termo</span>))
            .<span class="js-func">ToList</span>();
        <span class="keyword">return</span> <span class="js-func">Json</span>(<span class="js-var">resultados</span>);
    }

    <span class="comment">// Receber JSON via POST</span>
    [<span class="type">HttpPost</span>]
    <span class="keyword">public</span> <span class="type">IActionResult</span> <span class="js-func">CriarJson</span>([<span class="type">FromBody</span>] <span class="type">Produto</span> <span class="js-var">produto</span>)
    {
        _context.Produtos.<span class="js-func">Add</span>(<span class="js-var">produto</span>);
        _context.<span class="js-func">SaveChanges</span>();
        <span class="keyword">return</span> <span class="js-func">Json</span>(<span class="keyword">new</span> { sucesso = <span class="keyword">true</span> });
    }
}</pre>
            </div>
        </div>

        <!-- SLIDE 10: Caso de Uso Real -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Caso de Uso Real</h2></div>
            <div class="slide-body">
                <div class="real-world">
                    <h3>Google Search ‚Äî Autocompletar</h3>
                    <span class="company-tag">Google</span>
                    <span class="company-tag">AJAX</span>
                    <span class="company-tag">UX</span>
                    <p style="margin-top: 10px;">Quando voc√™ digita no Google, sugest√µes aparecem <strong>instantaneamente</strong> sem recarregar a p√°gina. A cada tecla, uma requisi√ß√£o AJAX √© enviada ao servidor, que retorna sugest√µes em JSON. O JavaScript atualiza apenas a lista de sugest√µes.</p>
                </div>
                <div class="concept-cards" style="margin-top: 10px;">
                    <div class="concept-card">
                        <span class="card-icon">‚å®Ô∏è</span>
                        <h4>Usu√°rio digita</h4>
                        <p>Evento "input" dispara</p>
                    </div>
                    <div class="concept-card">
                        <span class="card-icon">üîÑ</span>
                        <h4>fetch() envia</h4>
                        <p>Requisi√ß√£o GET em background</p>
                    </div>
                    <div class="concept-card">
                        <span class="card-icon">üìã</span>
                        <h4>JSON retorna</h4>
                        <p>Lista de sugest√µes</p>
                    </div>
                    <div class="concept-card">
                        <span class="card-icon">‚ú®</span>
                        <h4>DOM atualiza</h4>
                        <p>Sugest√µes aparecem</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 11: Exerc√≠cio Guiado -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Exerc√≠cio Guiado</h2></div>
            <div class="slide-body">
                <div class="guided-exercise">
                    <h3>Busca Din√¢mica de Produtos</h3>
                    <div class="timebox">35 minutos</div>
                    <ol class="guided-steps">
                        <li>No Controller, crie a Action <span class="inline-code">Buscar(string termo)</span> que retorna <span class="inline-code">Json()</span></li>
                        <li>Use LINQ: <span class="inline-code">_context.Produtos.Where(p => p.Nome.Contains(termo)).ToList()</span></li>
                        <li>Na View Index, adicione um campo <span class="inline-code">&lt;input id="busca"&gt;</span></li>
                        <li>Adicione um <span class="inline-code">&lt;div id="resultados"&gt;</span> para os resultados</li>
                        <li>No JavaScript, escute o evento <span class="inline-code">input</span> do campo de busca</li>
                        <li>Use <span class="inline-code">fetch()</span> para chamar a Action Buscar</li>
                        <li>Exiba os resultados dinamicamente no div, sem recarregar a p√°gina</li>
                        <li>Teste: digite parte do nome de um produto e veja os resultados</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- SLIDE 12: Prepara√ß√£o -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Prepara√ß√£o para a Pr√≥xima Aula</h2></div>
            <div class="slide-body" style="justify-content: center;">
                <div class="box-preclass">
                    <h3>Atividade Pr√©-Aula (Obrigat√≥ria)</h3>
                    <p>Para a <strong>Aula 15 ‚Äî Autentica√ß√£o e Autoriza√ß√£o</strong>:</p>
                    <ol style="margin-top: 10px;">
                        <li>Pesquise a diferen√ßa entre <strong>autentica√ß√£o</strong> e <strong>autoriza√ß√£o</strong></li>
                        <li>Leia sobre <strong>hashing de senhas</strong> (por que nunca armazenar senhas em texto puro)</li>
                        <li>Pesquise o que √© o atributo <span class="inline-code">[Authorize]</span> no ASP.NET Core</li>
                        <li>Pense: como o Netflix sabe que voc√™ √© assinante?</li>
                    </ol>
                    <p style="margin-top: 15px;"><strong>Tempo estimado:</strong> 25 minutos</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 13: Encerramento -->
        <div class="slide slide-cover">
            <h1>Obrigado!</h1>
            <h2>D√∫vidas?</h2>
            <p>jose.romualdo@uni9.pro.br</p>
            <p style="margin-top: 30px; font-size: 0.9em; color: rgba(255,255,255,0.5);">Aula 14 ‚Äî Requisi√ß√µes HTTP Ass√≠ncronas (AJAX)</p>
        </div>

    </div>
    <script src="js/slides.js"></script>
</body>
</html>
