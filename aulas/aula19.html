<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 19 - Publica√ß√£o e Deploy | Desenvolvimento Web - UNINOVE</title>
    <link rel="stylesheet" href="css/slides.css">
</head>
<body>
    <div class="presentation">

        <!-- SLIDE 1: Capa -->
        <div class="slide slide-cover active">
            <h1>Desenvolvimento Web</h1>
            <h2>Aula 19 ‚Äî Publica√ß√£o e Deploy</h2>
            <p>Docker, Ambientes e Publica√ß√£o na Nuvem</p>
            <p style="margin-top: 30px; font-size: 0.9em; color: rgba(255,255,255,0.5);">2026.1 ‚Äî 120 minutos</p>
        </div>

        <!-- SLIDE 2: Recapitula√ß√£o -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Recapitula√ß√£o ‚Äî Aula 18</h2></div>
            <div class="slide-body">
                <div class="recap-container">
                    <h3>O que vimos na aula passada</h3>
                    <ul class="recap-items">
                        <li class="recap-item"><strong>_Layout.cshtml:</strong> Template mestre com menu, rodap√© e @RenderBody()</li>
                        <li class="recap-item"><strong>Partial Views:</strong> Componentes reutiliz√°veis de HTML/Razor</li>
                        <li class="recap-item"><strong>Bootstrap:</strong> Framework CSS com componentes prontos e responsivos</li>
                        <li class="recap-item"><strong>Grid System:</strong> 12 colunas para organizar layouts (row, col-md-4)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 3: Agenda -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Agenda</h2></div>
            <div class="slide-body">
                <ul class="agenda-list">
                    <li>Ambientes: Desenvolvimento vs. Produ√ß√£o</li>
                    <li>Publicando com dotnet publish</li>
                    <li>Mini Quiz</li>
                    <li>Docker e Dockerfile</li>
                    <li>Vari√°veis de Ambiente e Seguran√ßa</li>
                    <li>Caso de Uso Real: Netflix</li>
                    <li>Exerc√≠cio Guiado: Dockerizar e Publicar</li>
                </ul>
            </div>
        </div>

        <!-- SLIDE 4: Ambientes -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Ambientes no ASP.NET Core</h2></div>
            <div class="slide-body">
                <p>O ASP.NET Core suporta m√∫ltiplos ambientes para configura√ß√µes diferentes:</p>
                <table style="margin-top: 15px;">
                    <thead><tr><th>Ambiente</th><th>Uso</th><th>Erros</th></tr></thead>
                    <tbody>
                        <tr><td><strong>Development</strong></td><td>Sua m√°quina local</td><td>Detalhados (stack trace)</td></tr>
                        <tr><td><strong>Staging</strong></td><td>Testes antes de produ√ß√£o</td><td>Parciais</td></tr>
                        <tr><td><strong>Production</strong></td><td>Servidor real (usu√°rios)</td><td>Gen√©ricos (seguran√ßa)</td></tr>
                    </tbody>
                </table>
                <div class="analogy-box" style="margin-top: 10px;">
                    <span class="analogy-icon">üé≠</span>
                    <div class="analogy-text">
                        <h4>Analogia: Pe√ßa de Teatro</h4>
                        <p><strong>Development</strong> = ensaio (pode errar √† vontade). <strong>Staging</strong> = ensaio geral (quase pronto). <strong>Production</strong> = noite de estreia (tudo tem que funcionar!).</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 5: dotnet publish -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Publicando com dotnet publish</h2></div>
            <div class="slide-body">
                <pre>
<span class="comment"># Publicar em modo Release</span>
$ dotnet publish -c Release -o ./publish

<span class="comment"># Estrutura gerada:</span>
publish/
‚îú‚îÄ‚îÄ MinhaAppWeb.dll          <span class="comment"># Aplica√ß√£o compilada</span>
‚îú‚îÄ‚îÄ MinhaAppWeb.exe          <span class="comment"># Execut√°vel (Windows)</span>
‚îú‚îÄ‚îÄ appsettings.json         <span class="comment"># Configura√ß√µes</span>
‚îú‚îÄ‚îÄ wwwroot/                 <span class="comment"># Arquivos est√°ticos</span>
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îî‚îÄ‚îÄ lib/
‚îî‚îÄ‚îÄ ...</pre>
                <div class="diagram-flow" style="margin-top: 10px; justify-content: center;">
                    <div class="diagram-box" style="min-width: 120px;">
                        <span class="box-label">C√≥digo Fonte</span>
                        <span class="box-desc">.cs, .cshtml</span>
                    </div>
                    <span class="diagram-arrow">dotnet publish ‚Üí</span>
                    <div class="diagram-box highlight" style="min-width: 120px;">
                        <span class="box-label">Publica√ß√£o</span>
                        <span class="box-desc">.dll otimizado</span>
                    </div>
                    <span class="diagram-arrow">deploy ‚Üí</span>
                    <div class="diagram-box highlight-coral" style="min-width: 120px;">
                        <span class="box-label">Servidor</span>
                        <span class="box-desc">Nuvem / Docker</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 6: Mini Quiz (meio) -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Mini Quiz</h2></div>
            <div class="slide-body" style="justify-content: center;">
                <div class="quiz-container" data-answer="d">
                    <h3>Vamos verificar!</h3>
                    <p class="quiz-question">Em qual ambiente do ASP.NET Core os erros devem ser exibidos de forma <strong>gen√©rica</strong> para n√£o expor informa√ß√µes sens√≠veis?</p>
                    <ul class="quiz-options">
                        <li><button class="quiz-option" data-option="a">a) Development</button></li>
                        <li><button class="quiz-option" data-option="b">b) Staging</button></li>
                        <li><button class="quiz-option" data-option="c">c) Testing</button></li>
                        <li><button class="quiz-option" data-option="d">d) Production</button></li>
                    </ul>
                    <div class="quiz-feedback">A resposta correta √© <strong>(d)</strong>. Em <strong>Production</strong>, erros detalhados (stack trace) s√£o ocultados para n√£o expor informa√ß√µes sens√≠veis do sistema.</div>
                </div>
            </div>
        </div>

        <!-- SLIDE 7: Docker -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Docker ‚Äî Conceito</h2></div>
            <div class="slide-body">
                <p><strong>Docker</strong> permite empacotar a aplica√ß√£o com todas as suas depend√™ncias em um <strong>container</strong>.</p>
                <div class="concept-cards" style="margin-top: 10px;">
                    <div class="concept-card">
                        <span class="card-icon">üì¶</span>
                        <h4>Container</h4>
                        <p>Caixa isolada com tudo que a app precisa para rodar</p>
                    </div>
                    <div class="concept-card">
                        <span class="card-icon">üñºÔ∏è</span>
                        <h4>Imagem</h4>
                        <p>Receita/template para criar containers</p>
                    </div>
                    <div class="concept-card">
                        <span class="card-icon">üìÑ</span>
                        <h4>Dockerfile</h4>
                        <p>Arquivo com instru√ß√µes para construir a imagem</p>
                    </div>
                </div>
                <pre style="margin-top: 10px;">
<span class="comment"># Comandos b√°sicos do Docker</span>
$ docker build -t minhaapp .       <span class="comment"># Construir imagem</span>
$ docker run -p 8080:80 minhaapp   <span class="comment"># Rodar container</span>
$ docker ps                        <span class="comment"># Listar containers</span>
$ docker stop &lt;id&gt;                 <span class="comment"># Parar container</span></pre>
            </div>
        </div>

        <!-- SLIDE 8: Dockerfile -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Dockerfile</h2></div>
            <div class="slide-body">
                <pre>
<span class="comment"># Dockerfile</span>

<span class="comment"># Etapa 1: Build</span>
<span class="keyword">FROM</span> mcr.microsoft.com/dotnet/sdk:8.0 <span class="keyword">AS</span> build
<span class="keyword">WORKDIR</span> /app
<span class="keyword">COPY</span> *.csproj .
<span class="keyword">RUN</span> dotnet restore
<span class="keyword">COPY</span> . .
<span class="keyword">RUN</span> dotnet publish -c Release -o /out

<span class="comment"># Etapa 2: Runtime (imagem menor)</span>
<span class="keyword">FROM</span> mcr.microsoft.com/dotnet/aspnet:8.0
<span class="keyword">WORKDIR</span> /app
<span class="keyword">COPY</span> --from=build /out .
<span class="keyword">EXPOSE</span> 80
<span class="keyword">ENTRYPOINT</span> [<span class="js-string">"dotnet"</span>, <span class="js-string">"MinhaAppWeb.dll"</span>]</pre>
                <div class="box-info" style="margin-top: 10px;">
                    <p><strong>Multi-stage build:</strong> A etapa 1 compila (imagem grande). A etapa 2 s√≥ roda (imagem pequena e segura).</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 9: Vari√°veis de Ambiente -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Vari√°veis de Ambiente e Seguran√ßa</h2></div>
            <div class="slide-body">
                <p>Em produ√ß√£o, <strong>nunca</strong> coloque senhas no c√≥digo! Use vari√°veis de ambiente.</p>
                <pre>
<span class="comment">// appsettings.json (desenvolvimento)</span>
{
  <span class="js-string">"ConnectionStrings"</span>: {
    <span class="js-string">"DefaultConnection"</span>: <span class="js-string">"Server=localhost;..."</span>
  }
}

<span class="comment">// Em produ√ß√£o, use vari√°veis de ambiente:</span>
$ <span class="keyword">export</span> ConnectionStrings__DefaultConnection=<span class="js-string">"Server=prod;..."</span>

<span class="comment">// Prioridade do ASP.NET Core:</span>
<span class="comment">// 1. Vari√°vel de Ambiente (mais alta)</span>
<span class="comment">// 2. appsettings.Production.json</span>
<span class="comment">// 3. appsettings.json (mais baixa)</span></pre>
                <div class="box-warning" style="margin-top: 10px;">
                    <p><strong>Importante:</strong> Adicione <span class="inline-code">appsettings.Development.json</span> ao <span class="inline-code">.gitignore</span>!</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 10: Caso de Uso Real -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Caso de Uso Real</h2></div>
            <div class="slide-body">
                <div class="real-world">
                    <h3>Netflix ‚Äî Deploy com Docker e Microservi√ßos</h3>
                    <span class="company-tag">Netflix</span>
                    <span class="company-tag">Docker</span>
                    <span class="company-tag">AWS</span>
                    <p style="margin-top: 10px;">A Netflix roda <strong>centenas de microservi√ßos</strong> em containers Docker na AWS. Cada servi√ßo (cat√°logo, recomenda√ß√µes, streaming, pagamento) √© um container independente. Se um falha, os outros continuam funcionando. Eles fazem <strong>dezenas de deploys por dia</strong> sem derrubar o servi√ßo.</p>
                </div>
                <div class="diagram-flow" style="margin-top: 10px; justify-content: center;">
                    <div class="diagram-box" style="min-width: 100px;">
                        <span class="box-label">Cat√°logo</span>
                        <span class="box-desc">Container 1</span>
                    </div>
                    <div class="diagram-box" style="min-width: 100px;">
                        <span class="box-label">Streaming</span>
                        <span class="box-desc">Container 2</span>
                    </div>
                    <div class="diagram-box" style="min-width: 100px;">
                        <span class="box-label">Pagamento</span>
                        <span class="box-desc">Container 3</span>
                    </div>
                    <div class="diagram-box" style="min-width: 100px;">
                        <span class="box-label">Recomenda√ß√£o</span>
                        <span class="box-desc">Container 4</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 11: Exerc√≠cio Guiado -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Exerc√≠cio Guiado</h2></div>
            <div class="slide-body">
                <div class="guided-exercise">
                    <h3>Dockerizar e Publicar a Aplica√ß√£o</h3>
                    <div class="timebox">45 minutos</div>
                    <ol class="guided-steps">
                        <li>Execute <span class="inline-code">dotnet publish -c Release -o ./publish</span> e verifique os arquivos</li>
                        <li>Crie o <span class="inline-code">Dockerfile</span> na raiz do projeto (copie o modelo do slide)</li>
                        <li>Crie o <span class="inline-code">.dockerignore</span> (bin/, obj/, .git/)</li>
                        <li>Construa a imagem: <span class="inline-code">docker build -t minhaapp .</span></li>
                        <li>Execute o container: <span class="inline-code">docker run -p 8080:80 minhaapp</span></li>
                        <li>Acesse <span class="inline-code">http://localhost:8080</span> e teste a aplica√ß√£o</li>
                        <li>Crie um reposit√≥rio no GitHub e fa√ßa push do c√≥digo</li>
                        <li>Configure o <span class="inline-code">.gitignore</span> (bin/, obj/, appsettings.Development.json)</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- SLIDE 12: Prepara√ß√£o -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Prepara√ß√£o para a Pr√≥xima Aula</h2></div>
            <div class="slide-body" style="justify-content: center;">
                <div class="box-preclass">
                    <h3>Atividade Pr√©-Aula (Obrigat√≥ria)</h3>
                    <p>Para a <strong>Aula 20 ‚Äî Revis√£o e Projeto Final</strong>:</p>
                    <ol style="margin-top: 10px;">
                        <li>Revise todo o conte√∫do do semestre (slides dispon√≠veis online)</li>
                        <li>Prepare <strong>3 d√∫vidas</strong> sobre os temas mais dif√≠ceis</li>
                        <li>Pense em uma ideia de <strong>projeto final</strong> que use: MVC, EF Core, MySQL, autentica√ß√£o e AJAX</li>
                        <li>Traga o projeto no notebook pronto para apresentar o progresso</li>
                    </ol>
                    <p style="margin-top: 15px;"><strong>Tempo estimado:</strong> 60 minutos</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 13: Encerramento -->
        <div class="slide slide-cover">
            <h1>Obrigado!</h1>
            <h2>D√∫vidas?</h2>
            <p>jose.romualdo@uni9.pro.br</p>
            <p style="margin-top: 30px; font-size: 0.9em; color: rgba(255,255,255,0.5);">Aula 19 ‚Äî Publica√ß√£o e Deploy</p>
        </div>

    </div>
    <script src="js/slides.js"></script>
</body>
</html>
