<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 10 - Formul√°rios e Models no MVC | Desenvolvimento Web - UNINOVE</title>
    <link rel="stylesheet" href="css/slides.css">
</head>
<body>
    <div class="presentation">

        <!-- SLIDE 1: Capa -->
        <div class="slide slide-cover active">
            <h1>Desenvolvimento Web</h1>
            <h2>Aula 10 ‚Äî Formul√°rios e Models no MVC</h2>
            <p>HttpGet, HttpPost, Model Binding e Data Annotations</p>
            <p style="margin-top: 30px; font-size: 0.9em; color: rgba(255,255,255,0.5);">2026.1 ‚Äî 120 minutos</p>
        </div>

        <!-- SLIDE 2: Recapitula√ß√£o -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Recapitula√ß√£o ‚Äî Aula 09</h2></div>
            <div class="slide-body">
                <div class="recap-container">
                    <h3>O que vimos na aula passada</h3>
                    <ul class="recap-items">
                        <li class="recap-item"><strong>@if/@else:</strong> Condicionais no Razor para renderizar HTML dinamicamente</li>
                        <li class="recap-item"><strong>@for/@foreach:</strong> La√ßos para iterar sobre listas e gerar conte√∫do repetido</li>
                        <li class="recap-item"><strong>List&lt;T&gt;:</strong> Cole√ß√£o din√¢mica em C# ‚Äî Add(), Remove(), Count</li>
                        <li class="recap-item"><strong>ViewBag:</strong> Passagem de listas do Controller para a View</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 3: Agenda -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Agenda</h2></div>
            <div class="slide-body">
                <ul class="agenda-list">
                    <li>Models ‚Äî Classes que representam dados</li>
                    <li>[HttpGet] e [HttpPost] ‚Äî M√©todos HTTP</li>
                    <li>Model Binding ‚Äî Preenchimento autom√°tico</li>
                    <li>Data Annotations ‚Äî Valida√ß√£o de dados</li>
                    <li>Tag Helpers ‚Äî Formul√°rios no Razor</li>
                    <li>Caso de Uso Real: Nubank ‚Äî Cadastro</li>
                    <li>Exerc√≠cio Guiado: Formul√°rio de cadastro</li>
                    <li>Mini Quiz</li>
                </ul>
            </div>
        </div>

        <!-- SLIDE 4: O que √© um Model -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>O que √© um Model?</h2></div>
            <div class="slide-body">
                <p>Um <strong>Model</strong> √© uma classe C# que representa os dados da aplica√ß√£o. Substitui o uso de ViewBag por algo <strong>fortemente tipado</strong>.</p>
                <pre>
<span class="comment">// Models/Contato.cs</span>
<span class="keyword">public class</span> <span class="type">Contato</span>
{
    <span class="keyword">public</span> <span class="keyword">string</span> Nome { <span class="keyword">get</span>; <span class="keyword">set</span>; }
    <span class="keyword">public</span> <span class="keyword">string</span> Email { <span class="keyword">get</span>; <span class="keyword">set</span>; }
    <span class="keyword">public</span> <span class="keyword">string</span> Mensagem { <span class="keyword">get</span>; <span class="keyword">set</span>; }
    <span class="keyword">public</span> <span class="keyword">string</span> Telefone { <span class="keyword">get</span>; <span class="keyword">set</span>; }
}</pre>
                <div class="concept-cards two-cols" style="margin-top: 10px;">
                    <div class="concept-card">
                        <h4>Antes (ViewBag)</h4>
                        <p>Din√¢mico, sem autocomplete, propenso a erros de digita√ß√£o</p>
                    </div>
                    <div class="concept-card">
                        <h4>Agora (Model)</h4>
                        <p>Tipado, com autocomplete, erros detectados em compila√ß√£o</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 5: HttpGet e HttpPost -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>[HttpGet] e [HttpPost]</h2></div>
            <div class="slide-body">
                <pre>
<span class="comment">// Controllers/ContatoController.cs</span>
<span class="keyword">public class</span> <span class="type">ContatoController</span> : <span class="type">Controller</span>
{
    <span class="comment">// GET: /Contato/Criar ‚Äî Exibe o formul√°rio vazio</span>
    [<span class="type">HttpGet</span>]
    <span class="keyword">public</span> <span class="type">IActionResult</span> <span class="js-func">Criar</span>()
    {
        <span class="keyword">return</span> <span class="js-func">View</span>();
    }

    <span class="comment">// POST: /Contato/Criar ‚Äî Recebe os dados do formul√°rio</span>
    [<span class="type">HttpPost</span>]
    <span class="keyword">public</span> <span class="type">IActionResult</span> <span class="js-func">Criar</span>(<span class="type">Contato</span> <span class="js-var">contato</span>)
    {
        <span class="comment">// O ASP.NET preenche o objeto automaticamente!</span>
        <span class="keyword">return</span> <span class="js-func">View</span>(<span class="js-string">"Confirmacao"</span>, <span class="js-var">contato</span>);
    }
}</pre>
                <div class="diagram-flow" style="margin-top: 10px; justify-content: center;">
                    <div class="diagram-box" style="min-width: 130px;">
                        <span class="box-label">GET /Contato/Criar</span>
                        <span class="box-desc">Formul√°rio vazio</span>
                    </div>
                    <span class="diagram-arrow">‚Üí</span>
                    <div class="diagram-box highlight" style="min-width: 130px;">
                        <span class="box-label">Usu√°rio preenche</span>
                        <span class="box-desc">e clica "Enviar"</span>
                    </div>
                    <span class="diagram-arrow">‚Üí</span>
                    <div class="diagram-box highlight-coral" style="min-width: 130px;">
                        <span class="box-label">POST /Contato/Criar</span>
                        <span class="box-desc">Dados no corpo</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 6: Model Binding -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Model Binding</h2></div>
            <div class="slide-body">
                <p>O <strong>Model Binding</strong> √© a "m√°gica" do ASP.NET: ele preenche automaticamente o objeto C# com os dados do formul√°rio.</p>
                <div class="analogy-box" style="margin-top: 15px;">
                    <span class="analogy-icon">üß©</span>
                    <div class="analogy-text">
                        <h4>Analogia: Encaixe de pe√ßas</h4>
                        <p>O <span class="inline-code">name="Nome"</span> do input encaixa na propriedade <span class="inline-code">public string Nome</span> do Model. Como pe√ßas de quebra-cabe√ßa!</p>
                    </div>
                </div>
                <pre style="margin-top: 15px;">
<span class="comment">&lt;!-- O name="Email" encaixa em Contato.Email --&gt;</span>
<span class="html-name">&lt;input</span> <span class="html-attr">type=</span><span class="html-value">"email"</span> <span class="html-attr">name=</span><span class="html-value">"Email"</span> <span class="html-name">/&gt;</span>

<span class="comment">// No Controller, o objeto j√° vem preenchido:</span>
<span class="keyword">public</span> <span class="type">IActionResult</span> <span class="js-func">Criar</span>(<span class="type">Contato</span> <span class="js-var">contato</span>)
{
    <span class="comment">// contato.Email j√° tem o valor digitado!</span>
}</pre>
            </div>
        </div>

        <!-- SLIDE 7: Tag Helpers -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Tag Helpers ‚Äî Formul√°rios no Razor</h2></div>
            <div class="slide-body">
                <p><strong>Tag Helpers</strong> s√£o atributos especiais do Razor que facilitam a cria√ß√£o de formul√°rios vinculados ao Model:</p>
                <pre>
<span class="keyword">@model</span> Contato

<span class="html-name">&lt;form</span> <span class="html-attr">asp-action=</span><span class="html-value">"Criar"</span> <span class="html-attr">method=</span><span class="html-value">"post"</span><span class="html-name">&gt;</span>
    <span class="html-name">&lt;div&gt;</span>
        <span class="html-name">&lt;label</span> <span class="html-attr">asp-for=</span><span class="html-value">"Nome"</span><span class="html-name">&gt;&lt;/label&gt;</span>
        <span class="html-name">&lt;input</span> <span class="html-attr">asp-for=</span><span class="html-value">"Nome"</span> <span class="html-attr">class=</span><span class="html-value">"form-control"</span> <span class="html-name">/&gt;</span>
        <span class="html-name">&lt;span</span> <span class="html-attr">asp-validation-for=</span><span class="html-value">"Nome"</span><span class="html-name">&gt;&lt;/span&gt;</span>
    <span class="html-name">&lt;/div&gt;</span>
    <span class="html-name">&lt;div&gt;</span>
        <span class="html-name">&lt;label</span> <span class="html-attr">asp-for=</span><span class="html-value">"Email"</span><span class="html-name">&gt;&lt;/label&gt;</span>
        <span class="html-name">&lt;input</span> <span class="html-attr">asp-for=</span><span class="html-value">"Email"</span> <span class="html-attr">class=</span><span class="html-value">"form-control"</span> <span class="html-name">/&gt;</span>
        <span class="html-name">&lt;span</span> <span class="html-attr">asp-validation-for=</span><span class="html-value">"Email"</span><span class="html-name">&gt;&lt;/span&gt;</span>
    <span class="html-name">&lt;/div&gt;</span>
    <span class="html-name">&lt;button</span> <span class="html-attr">type=</span><span class="html-value">"submit"</span><span class="html-name">&gt;</span>Enviar<span class="html-name">&lt;/button&gt;</span>
<span class="html-name">&lt;/form&gt;</span></pre>
            </div>
        </div>

        <!-- SLIDE 8: Data Annotations -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Data Annotations ‚Äî Valida√ß√£o</h2></div>
            <div class="slide-body">
                <pre>
<span class="keyword">using</span> System.ComponentModel.DataAnnotations;

<span class="keyword">public class</span> <span class="type">Contato</span>
{
    [<span class="type">Required</span>(ErrorMessage = <span class="js-string">"Nome √© obrigat√≥rio"</span>)]
    [<span class="type">StringLength</span>(<span class="number">100</span>)]
    <span class="keyword">public</span> <span class="keyword">string</span> Nome { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    [<span class="type">Required</span>(ErrorMessage = <span class="js-string">"Email √© obrigat√≥rio"</span>)]
    [<span class="type">EmailAddress</span>(ErrorMessage = <span class="js-string">"Email inv√°lido"</span>)]
    <span class="keyword">public</span> <span class="keyword">string</span> Email { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    [<span class="type">Required</span>]
    [<span class="type">MinLength</span>(<span class="number">10</span>, ErrorMessage = <span class="js-string">"M√≠nimo 10 caracteres"</span>)]
    <span class="keyword">public</span> <span class="keyword">string</span> Mensagem { <span class="keyword">get</span>; <span class="keyword">set</span>; }

    [<span class="type">Phone</span>]
    <span class="keyword">public</span> <span class="keyword">string</span>? Telefone { <span class="keyword">get</span>; <span class="keyword">set</span>; }
}</pre>
            </div>
        </div>

        <!-- SLIDE 9: Valida√ß√£o no Controller -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Valida√ß√£o no Controller</h2></div>
            <div class="slide-body">
                <pre>
[<span class="type">HttpPost</span>]
<span class="keyword">public</span> <span class="type">IActionResult</span> <span class="js-func">Criar</span>(<span class="type">Contato</span> <span class="js-var">contato</span>)
{
    <span class="comment">// Verifica se todas as valida√ß√µes passaram</span>
    <span class="keyword">if</span> (!ModelState.IsValid)
    {
        <span class="comment">// Retorna o formul√°rio com os erros</span>
        <span class="keyword">return</span> <span class="js-func">View</span>(<span class="js-var">contato</span>);
    }

    <span class="comment">// Dados v√°lidos ‚Äî processar e redirecionar</span>
    <span class="keyword">return</span> <span class="js-func">RedirectToAction</span>(<span class="js-string">"Sucesso"</span>);
}</pre>
                <div class="box-info" style="margin-top: 10px;">
                    <p><span class="inline-code">ModelState.IsValid</span> retorna <span class="inline-code">true</span> somente se <strong>todas</strong> as Data Annotations forem satisfeitas. Caso contr√°rio, as mensagens de erro s√£o exibidas nos <span class="inline-code">asp-validation-for</span>.</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 10: Caso de Uso Real -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Caso de Uso Real</h2></div>
            <div class="slide-body">
                <div class="real-world">
                    <h3>Nubank ‚Äî Formul√°rio de Cadastro</h3>
                    <span class="company-tag">Nubank</span>
                    <span class="company-tag">Valida√ß√£o</span>
                    <span class="company-tag">UX</span>
                    <p style="margin-top: 10px;">O cadastro do Nubank valida <strong>CPF, email, telefone e senha</strong> em tempo real. No backend, Data Annotations (ou equivalente) garantem que nenhum dado inv√°lido chegue ao banco de dados.</p>
                </div>
                <div class="concept-cards" style="margin-top: 10px;">
                    <div class="concept-card">
                        <span class="card-icon">üñ•Ô∏è</span>
                        <h4>Front-end</h4>
                        <p>Valida√ß√£o visual instant√¢nea (JS)</p>
                    </div>
                    <div class="concept-card">
                        <span class="card-icon">üîí</span>
                        <h4>Back-end</h4>
                        <p>Data Annotations + ModelState</p>
                    </div>
                    <div class="concept-card">
                        <span class="card-icon">üóÑÔ∏è</span>
                        <h4>Banco de Dados</h4>
                        <p>Constraints (NOT NULL, UNIQUE)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 11: Exerc√≠cio Guiado -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Exerc√≠cio Guiado</h2></div>
            <div class="slide-body">
                <div class="guided-exercise">
                    <h3>Formul√°rio de Cadastro de Aluno</h3>
                    <div class="timebox">35 minutos</div>
                    <ol class="guided-steps">
                        <li>Crie <span class="inline-code">Models/Aluno.cs</span> com: Nome, Email, RA, Curso e DataNascimento</li>
                        <li>Adicione Data Annotations: [Required], [EmailAddress], [StringLength]</li>
                        <li>Crie <span class="inline-code">Controllers/AlunoController.cs</span></li>
                        <li>Crie o m√©todo <span class="inline-code">[HttpGet] Cadastrar()</span> que retorna a View vazia</li>
                        <li>Crie o m√©todo <span class="inline-code">[HttpPost] Cadastrar(Aluno aluno)</span> que valida com ModelState</li>
                        <li>Na View, use Tag Helpers: <span class="inline-code">asp-for</span>, <span class="inline-code">asp-validation-for</span></li>
                        <li>Teste enviando o formul√°rio vazio e com dados inv√°lidos</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- SLIDE 12: Exerc√≠cio Guiado 2 -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Exerc√≠cio Guiado (continua√ß√£o)</h2></div>
            <div class="slide-body">
                <div class="guided-exercise">
                    <h3>P√°gina de Confirma√ß√£o</h3>
                    <div class="timebox">15 minutos</div>
                    <ol class="guided-steps">
                        <li>Crie a View <span class="inline-code">Confirmacao.cshtml</span> com <span class="inline-code">@model Aluno</span></li>
                        <li>Exiba todos os dados do aluno cadastrado usando <span class="inline-code">@Model.Nome</span></li>
                        <li>Estilize com uma mensagem de sucesso (verde)</li>
                        <li>Adicione um bot√£o "Cadastrar outro" que redireciona para o formul√°rio</li>
                        <li>No Controller, redirecione para a View de confirma√ß√£o quando os dados forem v√°lidos</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- SLIDE 13: Mini Quiz -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Mini Quiz</h2></div>
            <div class="slide-body" style="justify-content: center;">
                <div class="quiz-container" data-answer="d">
                    <h3>Teste seus conhecimentos!</h3>
                    <p class="quiz-question">Qual Data Annotation √© usada para tornar um campo <strong>obrigat√≥rio</strong> no Model?</p>
                    <ul class="quiz-options">
                        <li><button class="quiz-option" data-option="a">a) [NotNull]</button></li>
                        <li><button class="quiz-option" data-option="b">b) [Mandatory]</button></li>
                        <li><button class="quiz-option" data-option="c">c) [NotEmpty]</button></li>
                        <li><button class="quiz-option" data-option="d">d) [Required]</button></li>
                    </ul>
                    <div class="quiz-feedback">A resposta correta √© <strong>(d)</strong>. <span class="inline-code">[Required]</span> torna o campo obrigat√≥rio. Se o campo estiver vazio, <span class="inline-code">ModelState.IsValid</span> retorna false.</div>
                </div>
            </div>
        </div>

        <!-- SLIDE 14: Prepara√ß√£o -->
        <div class="slide slide-content">
            <div class="slide-header"><h2>Prepara√ß√£o para a Pr√≥xima Aula</h2></div>
            <div class="slide-body" style="justify-content: center;">
                <div class="box-preclass">
                    <h3>Atividade Pr√©-Aula (Obrigat√≥ria)</h3>
                    <p>Para a <strong>Aula 11 ‚Äî Entity Framework Core e MySQL</strong>:</p>
                    <ol style="margin-top: 10px;">
                        <li>Pesquise o que √© um <strong>ORM</strong> (Object-Relational Mapping)</li>
                        <li>Leia sobre o <strong>Entity Framework Core</strong></li>
                        <li>Instale o <strong>MySQL</strong> na sua m√°quina (ou use o MySQL Workbench)</li>
                        <li>Pesquise o que √© <strong>DbContext</strong> e <strong>DbSet</strong></li>
                    </ol>
                    <p style="margin-top: 15px;"><strong>Tempo estimado:</strong> 30 minutos</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 15: Encerramento -->
        <div class="slide slide-cover">
            <h1>Obrigado!</h1>
            <h2>D√∫vidas?</h2>
            <p>jose.romualdo@uni9.pro.br</p>
            <p style="margin-top: 30px; font-size: 0.9em; color: rgba(255,255,255,0.5);">Aula 10 ‚Äî Formul√°rios e Models no MVC</p>
        </div>

    </div>
    <script src="js/slides.js"></script>
</body>
</html>
